{"version":3,"file":"PreferencesService.js","sourceRoot":"","sources":["../../src/user/PreferencesService.ts"],"names":[],"mappings":"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","sourcesContent":["import { addHexPrefix, isHexString, toChecksumAddress } from 'ethereumjs-util';\n\nimport { AbstractAdapter, IConfig, IState } from '../core/AbstractAdapter';\nimport { AbstractService } from '../core/AbstractService';\n\n/**\n * Custom RPC network preferences\n *\n * @param blockExplorerUrl - Block explorer URL.\n */\nexport interface RpcPreferences {\n  blockExplorerUrl: string;\n}\n\n/**\n * @type ContactEntry\n *\n * ContactEntry representation\n * @property address - Hex address of a recipient account\n * @property name - Nickname associated with this address\n * @property importTime - Data time when an account as created/imported\n */\nexport interface ContactEntry {\n  address: string;\n  name: string;\n  importTime?: number;\n}\n\n/**\n * Custom RPC network information\n *\n * @property rpcUrl - RPC target URL.\n * @property chainId - Network ID as per EIP-155\n * @property nickname - Personalized network name.\n * @property ticker - Currency ticker.\n * @property rpcPrefs - Personalized preferences.\n */\nexport interface FrequentRpc {\n  rpcUrl: string;\n  chainId?: number;\n  nickname?: string;\n  ticker?: string;\n  rpcPrefs?: RpcPreferences;\n}\n\n/**\n * @type PreferencesState\n *\n * Preferences controller state\n * @property featureFlags - Map of specific features to enable or disable\n * @property frequentRpcList - A list of custom RPCs to provide the user\n * @property identities - Map of addresses to ContactEntry objects\n * @property lostIdentities - Map of lost addresses to ContactEntry objects\n * @property selectedAddress - Current coinbase account\n */\nexport interface PreferencesState extends IState {\n  featureFlags: { [feature: string]: boolean };\n  frequentRpcList: FrequentRpc[];\n  ipfsGateway: string;\n  identities: { [address: string]: ContactEntry };\n  lostIdentities: { [address: string]: ContactEntry };\n  selectedAddress: string;\n  useTokenDetection: boolean;\n  useCollectibleDetection: boolean;\n  openSeaEnabled: boolean;\n}\n\nexport class PreferencesService<\n  A extends AbstractAdapter<PreferencesState, IConfig>\n> extends AbstractService<A, PreferencesState, IConfig> {\n  override name = 'PreferencesService';\n\n  override defaultState = {\n    featureFlags: {},\n    frequentRpcList: [],\n    identities: {},\n    ipfsGateway: 'https://ipfs.io/ipfs/',\n    lostIdentities: {},\n    selectedAddress: '',\n    useTokenDetection: true,\n    useCollectibleDetection: false,\n    openSeaEnabled: false,\n  };\n\n  initialize(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    config: Partial<IConfig> | undefined,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    state: Partial<PreferencesState>\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n  ): void {}\n\n  /**\n   * Adds identities to state.\n   *\n   * @param addresses - List of addresses to use to generate new identities.\n   */\n  addIdentities(addresses: string[]) {\n    const { identities } = this.getState();\n    addresses.forEach((address) => {\n      address = this.toChecksumHexAddress(address);\n      if (identities[address]) {\n        return;\n      }\n      const identityCount = Object.keys(identities).length;\n\n      identities[address] = {\n        name: `Account ${identityCount + 1}`,\n        address,\n        importTime: Date.now(),\n      };\n    });\n    this.updateState({ identities: { ...identities } });\n  }\n\n  /**\n   * Removes an identity from state.\n   *\n   * @param address - Address of the identity to remove.\n   */\n  removeIdentity(address: string) {\n    address = this.toChecksumHexAddress(address);\n    const { identities } = this.getState();\n    if (!identities[address]) {\n      return;\n    }\n    delete identities[address];\n    this.updateState({ identities: { ...identities } });\n    if (address === this.getState().selectedAddress) {\n      this.updateState({ selectedAddress: Object.keys(identities)[0] });\n    }\n  }\n\n  /**\n   * Associates a new label with an identity.\n   *\n   * @param address - Address of the identity to associate.\n   * @param label - New label to assign.\n   */\n  setAccountLabel(address: string, label: string) {\n    address = this.toChecksumHexAddress(address);\n    const { identities } = this.getState();\n    identities[address] = identities[address] || {};\n    identities[address].name = label;\n    this.updateState({ identities: { ...identities } });\n  }\n\n  /**\n   * Enable or disable a specific feature flag.\n   *\n   * @param feature - Feature to toggle.\n   * @param activated - Value to assign.\n   */\n  setFeatureFlag(feature: string, activated: boolean) {\n    const oldFeatureFlags = this.getState().featureFlags;\n    const featureFlags = { ...oldFeatureFlags, ...{ [feature]: activated } };\n    this.updateState({ featureFlags: { ...featureFlags } });\n  }\n\n  /**\n   * Synchronizes the current identity list with new identities.\n   *\n   * @param addresses - List of addresses corresponding to identities to sync.\n   * @returns Newly-selected address after syncing.\n   */\n  syncIdentities(addresses: string[]) {\n    addresses = addresses.map((address: string) => this.toChecksumHexAddress(address));\n    const { identities, lostIdentities } = this.getState();\n    const newlyLost: { [address: string]: ContactEntry } = {};\n\n    for (const identity in identities) {\n      if (addresses.indexOf(identity) === -1) {\n        newlyLost[identity] = identities[identity];\n        delete identities[identity];\n      }\n    }\n\n    if (Object.keys(newlyLost).length > 0) {\n      for (const key in newlyLost) {\n        lostIdentities[key] = newlyLost[key];\n      }\n    }\n\n    this.updateState({\n      identities: { ...identities },\n      lostIdentities: { ...lostIdentities },\n    });\n    this.addIdentities(addresses);\n\n    if (addresses.indexOf(this.getState().selectedAddress) === -1) {\n      this.updateState({ selectedAddress: addresses[0] });\n    }\n\n    return this.getState().selectedAddress;\n  }\n\n  /**\n   * Generates and stores a new list of stored identities based on address. If the selected address\n   * is unset, or if it refers to an identity that was removed, it will be set to the first\n   * identity.\n   *\n   * @param addresses - List of addresses to use as a basis for each identity.\n   */\n  updateIdentities(addresses: string[]) {\n    // addresses = addresses.map((address: string) =>\n    //   this.toChecksumHexAddress(address)\n    // );\n    // const oldIdentities = this.getState().identities;\n    const oldAddresses: string[] = [];\n    const newAddresses: string[] = [];\n    const oldIdentities = this.getState().identities;\n    addresses.map((address: string) => {\n      const addr = this.toChecksumHexAddress(address);\n      if (oldIdentities[addr]) {\n        oldAddresses.push(addr);\n      } else {\n        newAddresses.push(addr);\n      }\n      return addr;\n    });\n    addresses = oldAddresses.concat(newAddresses);\n    const identities = addresses.reduce(\n      (ids: { [address: string]: ContactEntry }, address, index) => {\n        ids[address] = oldIdentities[address] || {\n          address,\n          name: `Account ${index + 1}`,\n          importTime: Date.now(),\n        };\n        return ids;\n      },\n      {}\n    );\n    let { selectedAddress } = this.getState();\n    if (!Object.keys(identities).includes(selectedAddress)) {\n      selectedAddress = Object.keys(identities)[0];\n    }\n    this.updateState({ identities: { ...identities }, selectedAddress });\n  }\n\n  /**\n   * Adds custom RPC URL to state.\n   *\n   * @param url - The custom RPC URL.\n   * @param chainId - The chain ID of the network, as per EIP-155.\n   * @param ticker - Currency ticker.\n   * @param nickname - Personalized network name.\n   * @param rpcPrefs - Personalized preferences.\n   */\n  addToFrequentRpcList(\n    url: string,\n    chainId?: number,\n    ticker?: string,\n    nickname?: string,\n    rpcPrefs?: RpcPreferences\n  ) {\n    const { frequentRpcList } = this.getState();\n    const index = frequentRpcList.findIndex(({ rpcUrl }) => rpcUrl === url);\n    if (index !== -1) {\n      frequentRpcList.splice(index, 1);\n    }\n    const newFrequestRpc: FrequentRpc = {\n      rpcUrl: url,\n      chainId,\n      ticker,\n      nickname,\n      rpcPrefs,\n    };\n    frequentRpcList.push(newFrequestRpc);\n    this.updateState({ frequentRpcList: [...frequentRpcList] });\n  }\n\n  /**\n   * Removes custom RPC URL from state.\n   *\n   * @param url - Custom RPC URL.\n   */\n  removeFromFrequentRpcList(url: string) {\n    const { frequentRpcList } = this.getState();\n    const index = frequentRpcList.findIndex(({ rpcUrl }) => rpcUrl === url);\n    if (index !== -1) {\n      frequentRpcList.splice(index, 1);\n    }\n    this.updateState({ frequentRpcList: [...frequentRpcList] });\n  }\n\n  /**\n   * Sets selected address.\n   *\n   * @param selectedAddress - Ethereum address.\n   */\n  setSelectedAddress(selectedAddress: string) {\n    this.updateState({\n      selectedAddress: this.toChecksumHexAddress(selectedAddress),\n    });\n  }\n\n  /**\n   * Sets new IPFS gateway.\n   *\n   * @param ipfsGateway - IPFS gateway string.\n   */\n  setIpfsGateway(ipfsGateway: string) {\n    this.updateState({ ipfsGateway });\n  }\n\n  /**\n   * Toggle the token detection setting.\n   *\n   * @param useTokenDetection - Boolean indicating user preference on token detection.\n   */\n  setUseTokenDetection(useTokenDetection: boolean) {\n    this.updateState({ useTokenDetection });\n  }\n\n  /**\n   * Toggle the collectible detection setting.\n   *\n   * @param useCollectibleDetection - Boolean indicating user preference on collectible detection.\n   */\n  setUseCollectibleDetection(useCollectibleDetection: boolean) {\n    if (useCollectibleDetection && !this.getState().openSeaEnabled) {\n      throw new Error('useCollectibleDetection cannot be enabled if openSeaEnabled is false');\n    }\n    this.updateState({ useCollectibleDetection });\n  }\n\n  /**\n   * Toggle the opensea enabled setting.\n   *\n   * @param openSeaEnabled - Boolean indicating user preference on using OpenSea's API.\n   */\n  setOpenSeaEnabled(openSeaEnabled: boolean) {\n    this.updateState({ openSeaEnabled });\n    if (!openSeaEnabled) {\n      this.updateState({ useCollectibleDetection: false });\n    }\n  }\n\n  /**\n   * Convert an address to a checksummed hexidecimal address.\n   *\n   * @param address - The address to convert.\n   * @returns A 0x-prefixed hexidecimal checksummed address.\n   */\n  // eslint-disable-next-line import/prefer-default-export\n  toChecksumHexAddress(address: string) {\n    const hexPrefixed = addHexPrefix(address);\n    if (!isHexString(hexPrefixed)) {\n      return hexPrefixed;\n    }\n    return toChecksumAddress(hexPrefixed);\n  }\n\n  /**\n   * get current account address\n   *\n   * @return selected address\n   */\n  getSelectedAddress(): string {\n    return this.getState().selectedAddress;\n  }\n}\n\nexport default PreferencesService;\n"]}