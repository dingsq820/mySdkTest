(()=>{"use strict";var t={2797:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.hexToText=e.normalizeMessageData=e.validateSignMessageData=e.isValidHexAddress=void 0;const a=s(7567),r=/^[0-9A-Fa-f]+$/gu;function i(t,{allowNonPrefixed:e=!0}={}){const s=e?(0,a.addHexPrefix)(t):t;return!!(0,a.isHexString)(s)&&(0,a.isValidAddress)(s)}e.isValidHexAddress=i,e.validateSignMessageData=function(t){const{from:e,data:s}=t;if(!e||"string"!=typeof e||!i(e))throw new Error(`Invalid "from" address: ${e} must be a valid string.`);if(!s||"string"!=typeof s)throw new Error(`Invalid message "data": ${s} must be a valid string.`)},e.normalizeMessageData=function(t){try{const e=(0,a.stripHexPrefix)(t);if(e.match(r))return(0,a.addHexPrefix)(e)}catch(t){}return(0,a.bufferToHex)(Buffer.from(t,"utf8"))},e.hexToText=function(t){try{const e=(0,a.stripHexPrefix)(t);return Buffer.from(e,"hex").toString("utf8")}catch(e){return t}}},2786:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractService=void 0;class s{constructor(){this.name="IService",this.defaultState={},this._state=this.defaultState}get manager(){return this._manager}set manager(t){this._manager=t}set adapter(t){this._adapter=t;const e=null==t?void 0:t.defaultState;e&&(this.defaultState=Object.assign(Object.assign({},this.defaultState),e)),this._state=Object.assign(Object.assign({},this._state),this.defaultState)}get adapter(){return this._adapter}getState(){return this._state}updateState(t={}){this._adapter&&(this._state=Object.assign(Object.assign({},this._state),t),this._adapter.onStateUpdate(this._state,this.name),this._adapter.listeners.forEach((t=>{t&&t(Object.assign({},this._state),this.name)})))}publish(t,e){var s;const a=null===(s=this._manager)||void 0===s?void 0:s.subscribers;if(a){const s=a.get(t);s&&s.forEach((s=>{s(t,e)}))}}}e.AbstractService=s,e.default=s},3494:t=>{t.exports=require("eth-rpc-errors")},7567:t=>{t.exports=require("ethereumjs-util")},1239:t=>{t.exports=require("events")},5828:t=>{t.exports=require("uuid")}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,s),i.exports}(()=>{s(3494),s(1239),s(5828);const t=s(2786);s(2797);t.AbstractService})()})();